!function(e,t,n){function r(t,n,r,i,o){var u=t;Array.isArray(i)&&(u+="-"+i.join(""));var a=new XMLHttpRequest;a.open("GET",s.MOCK_SERVER+u,!1),a.onreadystatechange=function(){4===a.readyState&&200===a.status&&(o&&o.returnType&&"OBJECT"===o.returnType.toUpperCase()?e[n].call(e,JSON.parse(a.responseText)):e[n].call(e,a.responseText))},a.send(i)}function i(){var e=navigator.userAgent.toUpperCase(),t=this;t.IS_ANDROID=-1!==e.indexOf("ANDROID"),t.IS_IOS=-1!==e.indexOf("IPHONE OS"),t.IS_MOCK=-1!==e.indexOf("MOCK"),t.IS_ANYDOOR=-1!==e.indexOf("ANYDOOR"),t.IS_READY=t.IS_ANYDOOR&&(t.IS_IOS||t.IS_ANDROID)||t.IS_MOCK||!1,t.MOCK_SERVER="http://mock-api.com/rwpDFbk5Zm5Q5E6t.mock/",t.queueList=[]}if(n=n||"App",!e[n]){var s=new i,o=Array.prototype.slice,u=(Object.prototype.toString,0);i.prototype.call=function(n){var i=this;if(!i.IS_READY)return void i.queueList.push(o.call(arguments,0));var f=o.call(arguments,1),l=n[n.length-1];if(i.IS_ANDROID&&i.IS_ANYDOOR)if(e.HostApp){for(var c=[],h=0;h<f.length;h++)if("function"==typeof f[h]){var d=l+"Callback"+u;e[d]=f[h],c.push(d),u++}else"object"==typeof f[h]?c.push(JSON.stringify(f[h])):c.push(f[h]);try{HostApp[l].apply(e.HostApp,c)}catch(v){console.log(v)}}else{var m=o.call(arguments,0);setTimeout(function(){s.call.apply(s,m)},1e3)}else if(i.IS_IOS&&i.IS_ANYDOOR){for(var c="",g=[],h=0;h<f.length;h++)if("function"==typeof f[h]){var d=l+"Callback"+u;e[d]=f[h],g.push(d),u++}else g.push(f[h]);u++;var y=t.createElement("iframe");console.log("tempArgument"+g);var b="callnative://"+l+"/"+encodeURIComponent(JSON.stringify(g))+"/"+u;console.log(b),y.src=b,y.style.display="none",t.body.appendChild(y),y.parentNode.removeChild(y),y=null}else if(i.IS_MOCK){for(var c="",g=[],h=0;h<f.length;h++)if("function"==typeof f[h]){var d=l+"Callback"+u;e[d]=f[h],g.push(d),u++}else g.push(f[h]);r(l,g[0],g[1],g[2],g[3])}else{var w=f[2];w instanceof Array&&(l+=w[0]);var E=e.anydoorSDK;E&&E.setDirective(l+"Callback",f[0]),E&&E.pushMsg(l,w)}},i.prototype.beReady=function(){var e=this;e.IS_READY=!0;for(var t=e.queueList,n=0;n<t.length;n++){var r=t[n];e.call.apply(e,r)}},i.prototype.goBack=function(){this.IS_ANDROID&&HostApp&&HostApp.goBackOrForward?this.call(["goBackOrForward"],function(e){try{e=JSON.parse(e);var t=e.result;"true"==t?console.log("success back"):console.log("success error")}catch(n){}},function(e){},-1):history.back()},i.prototype.getLatestVersion=function(e,t){if(e===t)return e;for(var n=e.split("."),r=t.split("."),i=n.length>r.length?n.length:r.length,s=0;i>s;s++){var o=parseInt(n[s],10),u=parseInt(r[s],10);if(o>u)return e;if(u>o)return t}return e},i.prototype.postRedirectUrl=function(e,n,r){var i=t.createElement("form"),s=['<input type="hidden" name="SHA1Value" id="SHA1Value" value="'+n.signature+'" />','<input type="hidden" name="timestamp" id="timestamp" value="'+n.timestamp+'" />','<input type="hidden" name="SSOTicket" id="SSOTicket" value="'+n.SSOTicket+'" />','<input type="hidden" name="deviceId" id="deviceId" value="'+r.deviceId+'" />','<input type="hidden" name="deviceType" id="deviceType" value="'+r.deviceType+'" />','<input type="hidden" name="osVersion" id="osVersion" value="'+r.osVersion+'" />','<input type="hidden" name="anyDoorSdkVersion" id="anyDoorSdkVersion" value="'+r.anyDoorSdkVersion+'" />','<input type="hidden" name="appVersion" id="appVersion" value="'+r.appVersion+'" />','<input type="hidden" name="appId" id="appId" value="'+r.appId+'" />'];i.innerHTML=s.join(""),i.action=e,i.method="POST",i.style.display="none",t.body.appendChild(i),i.submit()},i.prototype.getSSOTicket=function(){var e=$.Deferred(),t=this;return t.call(["sendMessage"],function(t){var n=JSON.parse(t);n.SSOTicket?e.resolve(n):e.reject({})},function(t){e.reject(t)},["getSSOTicket"]),e},i.prototype.getDeviceInfo=function(){var e=$.Deferred(),t=this;return t.deviceInfo?(setTimeout(function(){e.resolve(t.deviceInfo)},16),e):(t.call(["sendMessage"],function(n){var r=JSON.parse(n);t.deviceInfo=r,e.resolve(r)},function(t){e.reject(t)},["getDeviceInfo"]),e)},i.prototype.getSSOLogin=function(e){var t=this;t.call(["getSSOLogin"],function(e){console.log(e)},function(e){console.log(e)},{redirectURL:e||""})},e[n]=e.RYMJSBRIDGE=s}}(window,document,"App");