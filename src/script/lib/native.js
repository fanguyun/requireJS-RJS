!function(e,t,n){"use strict";function o(t,n,o,i,a){var p=t;Array.isArray(i)&&(p+="-"+i.join(""));var s=new XMLHttpRequest;s.open("GET",r.MOCK_SERVER+p,!1),s.onreadystatechange=function(){4===s.readyState&&200===s.status&&(a&&a.returnType&&"OBJECT"===a.returnType.toUpperCase()?e[n].call(e,JSON.parse(s.responseText)):e[n].call(e,s.responseText))},s.send(i)}function i(){var e=navigator.userAgent.toUpperCase(),t=this;t.IS_ANDROID=-1!==e.indexOf("ANDROID"),t.IS_IOS=-1!==e.indexOf("IPHONE OS"),t.IS_MOCK=-1!==e.indexOf("MOCK"),t.IS_ANYDOOR=-1!==e.indexOf("ANYDOOR"),t.IS_READY=t.IS_ANYDOOR&&(t.IS_IOS||t.IS_ANDROID)||t.IS_MOCK||!1,t.MOCK_SERVER="http://mock-api.com/rwpDFbk5Zm5Q5E6t.mock/",t.queueList=[]}if(n=n||"App",!e[n]){var r=new i,a=Array.prototype.slice,p=(Object.prototype.toString,0);i.prototype.call=function(n){var i=this;if(!i.IS_READY)return void i.queueList.push(a.call(arguments,0));var s=a.call(arguments,1),c=n[n.length-1];if(i.IS_ANDROID&&i.IS_ANYDOOR)if(e.HostApp){for(var l=[],u=0;u<s.length;u++)if("function"==typeof s[u]){var d=c+"Callback"+p;e[d]=s[u],l.push(d),p++}else"object"==typeof s[u]?l.push(JSON.stringify(s[u])):l.push(s[u]);try{HostApp[c].apply(e.HostApp,l)}catch(f){console.log(f)}}else{var v=a.call(arguments,0);setTimeout(function(){r.call.apply(r,v)},1e3)}else if(i.IS_IOS&&i.IS_ANYDOOR){for(var l="",S=[],u=0;u<s.length;u++)if("function"==typeof s[u]){var d=c+"Callback"+p;e[d]=s[u],S.push(d),p++}else S.push(s[u]);p++;var y=t.createElement("iframe");console.log("tempArgument"+S);var O="callnative://"+c+"/"+encodeURIComponent(JSON.stringify(S))+"/"+p;console.log(O),y.src=O,y.style.display="none",t.body.appendChild(y),y.parentNode.removeChild(y),y=null}else if(i.IS_MOCK){for(var l="",S=[],u=0;u<s.length;u++)if("function"==typeof s[u]){var d=c+"Callback"+p;e[d]=s[u],S.push(d),p++}else S.push(s[u]);o(c,S[0],S[1],S[2],S[3])}else{var h=s[2];h instanceof Array&&(c+=h[0]);var g=e.anydoorSDK;g&&g.setDirective(c+"Callback",s[0]),g&&g.pushMsg(c,h)}},i.prototype.beReady=function(){var e=this;e.IS_READY=!0;for(var t=e.queueList,n=0;n<t.length;n++){var o=t[n];e.call.apply(e,o)}},i.prototype.goBack=function(){this.IS_ANDROID&&HostApp&&HostApp.goBackOrForward?this.call(["goBackOrForward"],function(e){try{e=JSON.parse(e);var t=e.result;"true"==t?console.log("success back"):console.log("success error")}catch(n){}},function(e){},-1):history.back()},i.prototype.getLatestVersion=function(e,t){if(e===t)return e;for(var n=e.split("."),o=t.split("."),i=n.length>o.length?n.length:o.length,r=0;i>r;r++){var a=parseInt(n[r],10),p=parseInt(o[r],10);if(a>p)return e;if(p>a)return t}return e},i.prototype.postRedirectUrl=function(e,n,o){var i=t.createElement("form"),r=['<input type="hidden" name="SHA1Value" id="SHA1Value" value="'+n.signature+'" />','<input type="hidden" name="timestamp" id="timestamp" value="'+n.timestamp+'" />','<input type="hidden" name="SSOTicket" id="SSOTicket" value="'+n.SSOTicket+'" />','<input type="hidden" name="deviceId" id="deviceId" value="'+o.deviceId+'" />','<input type="hidden" name="deviceType" id="deviceType" value="'+o.deviceType+'" />','<input type="hidden" name="osVersion" id="osVersion" value="'+o.osVersion+'" />','<input type="hidden" name="anyDoorSdkVersion" id="anyDoorSdkVersion" value="'+o.anyDoorSdkVersion+'" />','<input type="hidden" name="appVersion" id="appVersion" value="'+o.appVersion+'" />','<input type="hidden" name="appId" id="appId" value="'+o.appId+'" />'];i.innerHTML=r.join(""),i.action=e,i.method="POST",i.style.display="none",t.body.appendChild(i),i.submit()},i.prototype.getSSOTicket=function(){var e=$.Deferred(),t=this;return t.call(["sendMessage"],function(t){var n=JSON.parse(t);n.SSOTicket?e.resolve(n):e.reject({})},function(t){e.reject(t)},["getSSOTicket"]),e},i.prototype.getDeviceInfo=function(){var e=$.Deferred(),t=this;return t.deviceInfo?(setTimeout(function(){e.resolve(t.deviceInfo)},16),e):(t.call(["sendMessage"],function(n){var o=JSON.parse(n);t.deviceInfo=o,e.resolve(o)},function(t){e.reject(t)},["getDeviceInfo"]),e)},i.prototype.getSSOLogin=function(e){var t=this;t.call(["getSSOLogin"],function(e){console.log(e)},function(e){console.log(e)},{redirectURL:e||""})},e[n]=e.RYMJSBRIDGE=r}}(window,document,"App");